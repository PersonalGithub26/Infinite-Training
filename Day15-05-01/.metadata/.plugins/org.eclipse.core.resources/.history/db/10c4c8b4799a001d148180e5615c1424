<%@ page language="java" contentType="text/html; charset=ISO-8859-1"
	pageEncoding="ISO-8859-1"%>
<%@ taglib uri="http://java.sun.com/jsp/jstl/core" prefix="c"%>
<!DOCTYPE html>
<html>
<head>
<meta charset="ISO-8859-1">
<title>Insert title here</title>
</head>
<body>
	<form action="LeaveApproval.jsp">
		<jsp:useBean id="lDao"
			class="com.java.LMSProjectJstl.LevHistoryDaoImp"></jsp:useBean>
		<jsp:useBean id="leave" class="com.java.LMSProjectJstl.levHistory" />
		<c:set var="empId" value="${param.empId}" />
		<c:set var="manId" value="${param.manId}" />
		<c:set var="levList" value="${lDao.pendingLeaves(empId)}" />

		<table border="3" align="center">
			<tr>
				<th>LeaveId</th>
				<th>EmpId</th>
				<th>Leave Toatl Days</th>
				<th>Manager Comments</th>
				<th>Leave Start Date</th>
				<th>Leave End Date</th>
				<th>Leave Type</th>
				<th>Leave Status</th>
				<th>Leave Reason</th>
			</tr>
			<c:forEach var="lev" items="${levList}">
				<tr>
					<td>${lev.leaveId}</td>
					<td>${lev.empId}</td>
					<td>${lev.noOfDays}</td>
					<td>${lev.levMngCmts}</td>
					<td>${lev.stDate}</td>
					<td>${lev.endDate}</td>
					<td>${lev.leaveTyp}</td>
					<td>${lev.status}</td>
					<td>${lev.levReason}</td>
					 					<td><a href=AcceptReject.jsp?leaveId=${leave.leaveId}>Accept/Reject</a></td>
<td><a href="LeaveApproval.jsp?empId=${employ.empId}&manId=${employ.manager}">Approve leave</a> </td>
 
					<td><input type="checkbox" id="multiApprove" name="approve"
						value="${lev.empId}" /></td>
				</tr>
			</c:forEach>
		</table>
		<input type="submit" value="Approve">
	</form>
</body>
</html>
