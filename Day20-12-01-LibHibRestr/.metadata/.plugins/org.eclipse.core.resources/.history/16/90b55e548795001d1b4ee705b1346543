
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html">
<h:form id="searchForm">
	<h:outputLabel for="searchType" value="Search by: " />
	<h:selectOneRadio id="searchType" value="#{Dao.searchType}">
		<f:selectItem itemValue="id" itemLabel="ID" />
		<f:selectItem itemValue="bookname" itemLabel="Book Name" />
		<f:selectItem itemValue="authorname" itemLabel="Author Name" />
		<f:selectItem itemValue="dept" itemLabel="Department" />
		<f:selectItem itemValue="All" itemLabel="All Books" />
	</h:selectOneRadio>
	<br />
	<h:outputLabel for="searchValue" value="Search Value: " />
	<h:inputText id="searchValue" value="#{Dao.searchValue}" />
	<br />
	<br />
	<h:commandButton value="Search" action="#{Dao.searchBooks()}" />
</h:form>
<h:dataTable value="#{Dao.searchBooks()}" var="book" border="3">
	<h:column>
		<f:facet name="header">ID</f:facet>
#{book.id}
</h:column>
	<h:column>
		<f:facet name="header">Book Name</f:facet>
#{book.name}
</h:column>
	<h:column>
		<f:facet name="header">Author</f:facet>
#{book.author}
</h:column>
	<h:column>
		<f:facet name="header">Department</f:facet>
#{book.dept}
</h:column>
	<h:column>
		<f:facet name="header">No.OfBooks</f:facet>
#{book.noOfBooks}
</h:column>
	<h:column>
		<f:facet name="header">Select</f:facet>
		<h:selectBooleanCheckbox value="#{Dao.isSelected(book.id)}"
			onchange="submit()">
			<f:ajax listener="#{Dao.selectBook(book.id)}" execute="@this"
				render="@form" />
		</h:selectBooleanCheckbox>
	</h:column>

</h:dataTable>

<h:form>
    <h:commandButton value="Issue Selected Books" action="#{Dao.issueBooks(libUsers.userName,book.ib)}" />
</h:form>
</html>

